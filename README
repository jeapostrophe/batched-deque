[rewrite] batched deque data structure 
